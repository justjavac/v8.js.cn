<!doctype html><html lang=zh-CN><meta charset=utf-8><title>V8 release v6.1 · V8</title><meta content="width=device-width" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=" js"</script><meta content="V8 v6.1 comes with a reduced binary size and includes performance improvements. In addition, asm.js is now validated and compiled to WebAssembly." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li class=active><a href=/blog/ >博客</a><li><a href=/docs/ >文档</a><li><a href=/tools/ >工具</a><li><a href=/features title="JavaScript 和 WebAssembly 的新特性">JS/Wasm 新特性</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>V8 release v6.1</h1><p class=meta>发布时间 <time datetime="2017-08-03 13:33:37" itemprop=datePublished title="2017-08-03 13:33:37">2017-08-03</time> · 标签： <a href=/blog/tags/release/ class=tag>release</a></header><div itemprop=articleBody><p>Every six weeks, we create a new branch of V8 as part of our <a href=/docs/release-process>release process</a>. Each version is branched from V8’s Git master immediately before a Chrome Beta milestone. Today we’re pleased to announce our newest branch, <a href=https://chromium.googlesource.com/v8/v8.git/+log/branch-heads/6.1>V8 version 6.1</a>, which is in beta until its release in coordination with Chrome 61 Stable in several weeks. V8 v6.1 is filled with all sorts of developer-facing goodies. We’d like to give you a preview of some of the highlights in anticipation of the release.<h2 id=performance-improvements>Performance improvements <a href=#performance-improvements class=bookmark>#</a></h2><p>Visiting all the elements of the Maps and Sets — either via <a href=http://exploringjs.com/es6/ch_iteration.html>iteration</a> or the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach><code>Map.prototype.forEach</code></a> / <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/forEach><code>Set.prototype.forEach</code></a> methods — became significantly faster, with a raw performance improvement of up to 11× since V8 version 6.0. Check the <a href=https://benediktmeurer.de/2017/07/14/faster-collection-iterators/ >dedicated blog post</a> for additional information.<figure><img alt="" height=597 loading=lazy src=/_img/v8-release-61/iterating-collections.svg width=967></figure><p>In addition to that, work continued on the performance of other language features. For example, the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf><code>Object.prototype.isPrototypeOf</code></a> method, which is important for constructor-less code using mostly object literals and <code>Object.create</code> instead of classes and constructor functions, is now always as fast and often faster than using <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof>the <code>instanceof</code> operator</a>.<figure><img alt="" height=480 loading=lazy src=/_img/v8-release-61/checking-prototype.svg width=781></figure><p>Function calls and constructor invocations with variable number of arguments also got significantly faster. Calls made with <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/apply><code>Reflect.apply</code></a> and <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/construct><code>Reflect.construct</code></a> received an up to 17× performance boost in the latest version.<figure><img alt="" height=606 loading=lazy src=/_img/v8-release-61/call-construct.svg width=980></figure><p><code>Array.prototype.forEach</code> is now inlined in TurboFan and optimized for all major non-holey <a href=/blog/elements-kinds>elements kinds</a>.<h2 id=binary-size-reduction>Binary size reduction <a href=#binary-size-reduction class=bookmark>#</a></h2><p>The V8 team has completely removed the deprecated the Crankshaft compiler, giving a significant reduction in binary size. Alongside the removal of the builtins generator, this reduces the deployed binary size of V8 by over 700 KB, depending on the exact platform.<h2 id=asm.js-is-now-validated-and-compiled-to-webassembly>asm.js is now validated and compiled to WebAssembly <a href=#asm.js-is-now-validated-and-compiled-to-webassembly class=bookmark>#</a></h2><p>If V8 encounters asm.js code it now tries to validate it. Valid asm.js code is then transpiled to WebAssembly. According to V8’s performance evaluations, this generally boosts throughput performance. Due to the added validation step, isolated regressions in startup performance might happen.<p>Please note that this feature was switched on by default on the Chromium side only. If you are an embedder and want to leverage the asm.js validator, enable the flag <code>--validate-asm</code>.<h2 id=webassembly>WebAssembly <a href=#webassembly class=bookmark>#</a></h2><p>When debugging WebAssembly, it is now possible to display local variables in DevTools when a breakpoint in WebAssembly code is hit.<h2 id=v8-api>V8 API <a href=#v8-api class=bookmark>#</a></h2><p>Please check out our <a href=https://docs.google.com/document/d/1g8JFi8T_oAE_7uAri7Njtig7fKaPDfotU6huOa1alds/edit>summary of API changes</a>. This document is regularly updated a few weeks after each major release.<p>Developers with an <a href=/docs/source-code#using-git>active V8 checkout</a> can use <code>git checkout -b 6.1 -t branch-heads/6.1</code> to experiment with the new features in V8 v6.1. Alternatively you can <a href=https://www.google.com/chrome/browser/beta.html>subscribe to Chrome’s Beta channel</a> and try the new features out yourself soon.</div><footer><div><p>作者：the V8 team.</div></footer></article></main><footer id=footer><div><nav><a href=https://v8.dev/blog/v8-release-61>原文</a> · <a href=/logo/ >商标</a> · <a href=/terms/ >条款</a> · <a href=https://policies.google.com/privacy/ >隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.js.cn/tree/master/./src/blog/v8-release-61.md rel=nofollow>在 GitHub 编辑此页面</a></nav><dark-mode-toggle dark="Light Theme" light="Dark Theme" permanent></dark-mode-toggle></div><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>