<!doctype html><html lang=zh-CN><meta charset=utf-8><title>V8 release v4.5 · V8</title><meta content="width=device-width" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=" js"</script><meta content="V8 v4.5 comes with performance improvements and adds support for several ES2015 features." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li class=active><a href=/blog/ >博客</a><li><a href=/docs/ >文档</a><li><a href=/tools/ >工具</a><li><a href=/features title="JavaScript 和 WebAssembly 的新特性">JS/Wasm 新特性</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>V8 release v4.5</h1><p class=meta>发布时间 <time datetime="2015-07-17 13:33:37" itemprop=datePublished title="2015-07-17 13:33:37">2015-07-17</time> · 标签： <a href=/blog/tags/release/ class=tag>release</a></header><div itemprop=articleBody><p>Roughly every six weeks, we create a new branch of V8 as part of our <a href=https://v8.dev/docs/release-process>release process</a>. Each version is branched from V8’s Git master immediately before Chrome branches for a Chrome Beta milestone. Today we’re pleased to announce our newest branch, <a href=https://chromium.googlesource.com/v8/v8.git/+log/branch-heads/4.5>V8 version 4.5</a>, which will be in beta until it is released in coordination with Chrome 45 Stable. V8 v4.5 is filled with all sorts of developer-facing goodies, so we’d like to give you a preview of some of the highlights in anticipation of the release in several weeks.<h2 id=improved-ecmascript-2015-(es6)-support>Improved ECMAScript 2015 (ES6) support <a href=#improved-ecmascript-2015-(es6)-support class=bookmark>#</a></h2><p>V8 v4.5 adds support for several <a href=https://www.ecma-international.org/ecma-262/6.0/ >ECMAScript 2015 (ES6)</a> features.<h3 id=arrow-functions>Arrow functions <a href=#arrow-functions class=bookmark>#</a></h3><p>With the help of <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions>Arrow Functions</a> it is possible to write more streamlined code.<pre class=language-js><code class=language-js><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">// Code without Arrow Functions</span><br><span class="token keyword">const</span> convertedData <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>convertedData<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Code with Arrow Functions</span><br><span class="token keyword">const</span> convertedData <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>convertedData<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The lexical binding of 'this' is another major benefit of arrow functions. As a result, using callbacks in methods gets much easier.<pre class=language-js><code class=language-js><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'Hello, '</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br>  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token string">'World!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token keyword">const</span> myInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>myInstance<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id=array%2Ftypedarray-functions>Array/TypedArray functions <a href=#array%2Ftypedarray-functions class=bookmark>#</a></h3><p>All of the new methods on <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Methods>Arrays and TypedArrays</a> that are specified in ES2015 are now supported in V8 v4.5. They make working with Arrays and TypedArrays more convenient. Among the methods added are <code>Array.from</code> and <code>Array.of</code>. Methods which mirror most <code>Array</code> methods on each kind of TypedArray were added as well.<h3 id=object.assign><code>Object.assign</code> <a href=#object.assign class=bookmark>#</a></h3><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign><code>Object.assign</code></a> enables developers to quickly merge and clone objects.<pre class=language-js><code class=language-js><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'Hello, '</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'world!'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// Merge the objects.</span><br>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>a <span class="token operator">+</span> target<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This feature can also be used to mix in functionality.<h2 id=more-javascript-language-features-are-%E2%80%9Coptimizable%E2%80%9D>More JavaScript language features are “optimizable” <a href=#more-javascript-language-features-are-%E2%80%9Coptimizable%E2%80%9D class=bookmark>#</a></h2><p>For many years, V8’s traditional optimizing compiler, <a href=https://blog.chromium.org/2010/12/new-crankshaft-for-v8.html>Crankshaft</a>, has done a great job of optimizing many common JavaScript patterns. However, it never had the capability to support the entire JavaScript language, and using certain language features in a function — such as <code>try</code>/<code>catch</code> and <code>with</code> — would prevent it from being optimized. V8 would have to fall back to its slower, baseline compiler for that function.<p>One of the design goals of V8’s new optimizing compiler, <a href=/blog/turbofan-jit>TurboFan</a>, is to be able to eventually optimize all of JavaScript, including ECMAScript 2015 features. In V8 v4.5, we’ve started using TurboFan to optimize some of the language features that are not supported by Crankshaft: <code>for</code>-<code>of</code>, <code>class</code>, <code>with</code>, and computed property names.<p>Here is an example of code that uses 'for-of', which can now be compiled by TurboFan:<pre class=language-js><code class=language-js><span class="token keyword">const</span> sequence <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'First'</span><span class="token punctuation">,</span> <span class="token string">'Second'</span><span class="token punctuation">,</span> <span class="token string">'Third'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> sequence<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// This scope is now optimizable.</span><br>  <span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'Hello, '</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'world!'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> value<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>a <span class="token operator">+</span> object<span class="token punctuation">.</span>b <span class="token operator">+</span> object<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Although initially functions that use these language features won't reach the same peak performance as other code compiled by Crankshaft, TurboFan can now speed them up well beyond our current baseline compiler. Even better, performance will continue to improve quickly as we develop more optimizations for TurboFan.<h2 id=v8-api>V8 API <a href=#v8-api class=bookmark>#</a></h2><p>Please check out our <a href=https://docs.google.com/document/d/1g8JFi8T_oAE_7uAri7Njtig7fKaPDfotU6huOa1alds/edit>summary of API changes</a>. This document gets regularly updated a few weeks after each major release.<p>Developers with an <a href=https://v8.dev/docs/source-code#using-git>active V8 checkout</a> can use <code>git checkout -b 4.5 -t branch-heads/4.5</code> to experiment with the new features in V8 v4.5. Alternatively you can <a href=https://www.google.com/chrome/browser/beta.html>subscribe to Chrome's Beta channel</a> and try the new features out yourself soon.</div><footer><div><p>作者：the V8 team.</div></footer></article></main><footer id=footer><div><nav><a href=https://v8.dev/blog/v8-release-45>原文</a> · <a href=/logo/ >商标</a> · <a href=/terms/ >条款</a> · <a href=https://policies.google.com/privacy/ >隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.js.cn/tree/master/./src/blog/v8-release-45.md rel=nofollow>在 GitHub 编辑此页面</a></nav><dark-mode-toggle dark="Light Theme" light="Dark Theme" permanent></dark-mode-toggle></div><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>