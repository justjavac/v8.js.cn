<!doctype html><html lang=zh-CN><meta charset=utf-8><title>Blink web tests (a.k.a. layout tests) · V8</title><meta content="width=device-width" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=" js"</script><meta content="V8’s infrastructure continuously runs Blink’s web tests to prevent integration problems with Chromium. This document describes what to do in case such a test fails." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li><a href=/blog/ >博客</a><li class=active><a href=/docs/ >文档</a><li><a href=/tools/ >工具</a><li><a href=/features title="JavaScript 和 WebAssembly 的新特性">JS/Wasm 新特性</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><h1>Blink web tests (a.k.a. layout tests)</h1><p>We continuously run <a href=https://chromium.googlesource.com/chromium/src/+/master/docs/testing/web_tests.md>Blink’s web tests (formerly known as “layout tests”)</a> on our <a href=https://ci.chromium.org/p/v8/g/integration/console>integration console</a> to prevent integration problems with Chromium.<p>On test failures, the bots compare the results of V8 Tip-of-Tree with Chromium’s pinned V8 version, to only flag newly introduced V8 problems (with false positives &lt; 5%). Blame assignment is trivial as the <a href=https://ci.chromium.org/p/v8/builders/luci.v8.ci/V8%20Blink%20Linux>Linux release</a> bot tests all revisions.<p>Commits with newly-introduced failures are normally reverted to unblock auto-rolling into Chromium. In case you notice you break layout tests or your commit gets reverted because of such breakage, and in case the changes are expected, follow this procedure to add updated baselines to Chromium before (re-)landing your CL:<ol><li>Land a Chromium change setting <code>[ Failure Pass ]</code> for the changed tests (<a href=https://chromium.googlesource.com/chromium/src/+/master/docs/testing/web_test_expectations.md#updating-the-expectations-files>more</a>).<li>Land your V8 CL and wait 1-2 days until it cycles into Chromium.<li>Follow <a href=https://chromium.googlesource.com/chromium/src/+/master/docs/testing/web_tests.md#Rebaselining-Web-Tests>these instructions</a> to manually generate the new baselines. Note that if you’re making changes only to Chromium, <a href=https://chromium.googlesource.com/chromium/src/+/master/docs/testing/web_test_expectations.md#how-to-rebaseline>this preferred automatic procedure</a> should work for you.<li>Remove the <code>[ Failure Pass ]</code> entry from the test expectations file and commit it along with the new baselines in Chromium.</ol><p>Please associate all CLs with a <code>Bug: …</code> footer.</main><footer id=footer><div><nav><a href=https://v8.dev/docs/blink-layout-tests>原文</a> · <a href=/logo/ >商标</a> · <a href=/terms/ >条款</a> · <a href=https://policies.google.com/privacy/ >隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.js.cn/tree/master/./src/docs/blink-layout-tests.md rel=nofollow>在 GitHub 编辑此页面</a></nav><dark-mode-toggle dark="Light Theme" light="Dark Theme" permanent></dark-mode-toggle></div><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>